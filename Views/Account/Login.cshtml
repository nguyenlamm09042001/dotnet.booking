@model booking.ViewModels.LoginVm

@{
    ViewData["Title"] = "ƒêƒÉng nh·∫≠p";
}

<div class="min-h-screen bg-gradient-to-b from-slate-50 to-white px-4 py-10">
  <div class="mx-auto w-full max-w-md">

    <!-- Header -->
    <div class="mb-6 text-center">
      <div class="mx-auto inline-flex items-center gap-2 rounded-full bg-white px-3 py-1 text-xs font-semibold text-slate-600 ring-1 ring-slate-200">
        <span class="h-2 w-2 rounded-full bg-indigo-500"></span>
        Booking
      </div>

      <h1 class="mt-4 text-2xl sm:text-3xl font-extrabold tracking-tight text-slate-900">
        ƒêƒÉng nh·∫≠p
      </h1>
      <p class="mt-1 text-sm text-slate-600">
        ƒêƒÉng nh·∫≠p ƒë·ªÉ qu·∫£n l√Ω l·ªãch h·∫πn c·ªßa b·∫°n.
      </p>
    </div>

    <!-- Card -->
    <div class="rounded-3xl border border-slate-200 bg-white shadow-sm">
      <div class="border-b border-slate-200 px-6 py-6">
        <div class="text-base font-extrabold text-slate-900">Ch√†o m·ª´ng quay l·∫°i üëã</div>
        <div class="mt-1 text-sm text-slate-600">Nh·∫≠p email v√† m·∫≠t kh·∫©u ƒë·ªÉ ti·∫øp t·ª•c.</div>
      </div>

      <!-- Form -->
      <form id="loginForm"
            asp-controller="Account"
            asp-action="Login"
            method="post"
            class="px-6 py-6 space-y-5">
        @Html.AntiForgeryToken()

        <div>
          <label asp-for="Email" class="block text-sm font-semibold text-slate-700"></label>
          <div class="mt-2 relative">
            <span class="pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 text-slate-400">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 13.065 2.4 6.6A2 2 0 0 1 4 6h16a2 2 0 0 1 1.6.6ZM12 15 2 8v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8Z"/>
              </svg>
            </span>

            <input asp-for="Email"
                   autocomplete="email"
                   class="h-11 w-full rounded-2xl border border-slate-200 bg-white pl-10 pr-3 text-sm text-slate-900
                          placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-300 focus:border-indigo-300"
                   placeholder="you@example.com" />
          </div>
          <span asp-validation-for="Email" class="mt-1 block text-xs text-rose-600"></span>
        </div>

        <div>
          <label asp-for="Password" class="block text-sm font-semibold text-slate-700"></label>
          <div class="mt-2 relative">
            <span class="pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 text-slate-400">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="currentColor">
                <path d="M17 8h-1V6a4 4 0 0 0-8 0v2H7a3 3 0 0 0-3 3v7a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3v-7a3 3 0 0 0-3-3Zm-7-2a2 2 0 0 1 4 0v2h-4Zm2 12a2 2 0 1 1 2-2 2 2 0 0 1-2 2Z"/>
              </svg>
            </span>

            <input asp-for="Password"
                   type="password"
                   autocomplete="current-password"
                   class="h-11 w-full rounded-2xl border border-slate-200 bg-white pl-10 pr-3 text-sm text-slate-900
                          placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-300 focus:border-indigo-300"
                   placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" />
          </div>
          <span asp-validation-for="Password" class="mt-1 block text-xs text-rose-600"></span>
        </div>

        <!-- ‚úÖ ValidationSummary fallback -->
        <div class="text-xs text-rose-600">
          @Html.ValidationSummary(excludePropertyErrors: true)
        </div>

        <button type="submit"
                class="inline-flex w-full items-center justify-center rounded-2xl bg-indigo-600 px-5 py-3
                       text-sm font-extrabold text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-300">
          Sign in
        </button>
      </form>

      <!-- Footer -->
      <div class="border-t border-slate-200 bg-slate-50/60 px-6 py-5 rounded-b-3xl">
        <div class="text-center text-sm">
          <span class="text-slate-600">Ch∆∞a c√≥ t√†i kho·∫£n?</span>
          <a asp-controller="Account"
             asp-action="Register"
             class="ml-1 font-semibold text-indigo-600 hover:underline">
            Register
          </a>
        </div>

        <div class="mt-3 text-center text-xs text-slate-500">
          Tip: N·∫øu qu√™n m·∫≠t kh·∫©u, li√™n h·ªá admin ƒë·ªÉ ƒë∆∞·ª£c h·ªó tr·ª£.
        </div>
      </div>
    </div>
  </div>
</div>

@section Scripts {
  <partial name="_ValidationScriptsPartial" />

  @if (!ViewData.ModelState.IsValid && TempData["SwalType"] == null)
  {
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        if (window.showSwal) {
          showSwal("warning", "Thi·∫øu th√¥ng tin", "Vui l√≤ng ki·ªÉm tra l·∫°i email v√† m·∫≠t kh·∫©u.");
        }
      });
    </script>
  }

  <script>
    // Optional: confirm submit (n·∫øu b√© Kim mu·ªën c·∫£m gi√°c ‚Äúb·∫•m ch·∫Øc‚Äù)
    // N·∫øu kh√¥ng th√≠ch th√¨ xo√° block n√†y.
    (function(){
      const form = document.getElementById('loginForm');
      if (!form) return;

      form.addEventListener('submit', function(ev){
        // kh√¥ng ch·∫∑n submit n·∫øu ƒë√£ c√≥ client-side validation l·ªói
        // (jQuery validate s·∫Ω t·ª± ngƒÉn). Block n√†y ch·ªâ gi√∫p UX m∆∞·ª£t.
      });
    })();
  </script>
}
